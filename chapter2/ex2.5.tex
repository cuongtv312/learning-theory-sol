\textbf{Exercise 2.5}
Assume that the density function of a distribution $\mathcal{D}$ is $(1-p)U(-1, 1) + pU(\frac{-1}{p}, \frac{1}{p})$ for $p \in (0, 0.5)$, where $U(.)$ denoted the density of the uniform distribution. Let $X_1,...., X_n$ be iid samples from $\mathcal{D}$. For $\epsilon > 0$, estimate the probability

\begin{equation}
    Pr(\frac{1}{n}\sum_{i=1}^{n}X_i \ge \epsilon)
\end{equation}

\textbf{Solution:}

According to Bernstein's Inequality, we have:

\begin{equation}
\Pr\Big[\bar{X} \ge \mu + \epsilon \Big] 
\le \exp\Bigg( \frac{-n\epsilon^2}{2V + \frac{2\epsilon b}{3}} \Bigg)
\end{equation}

\noindent
where $\mu$ is the mean of $X$, $\epsilon$ is a constant, $V$ is the variance of $X$, 
and $b$ is the upper bound of $\lvert X - \mu \rvert$.

So we need to calculate $\mu$, $V$, and $b$:

\begin{itemize}
\item Mean: 
\begin{align*}
\mathbb{E}[X] &= \mathbb{E}[(1-p) U(-1,1) + p\,U(-1/p,1/p)] \\
&= (1-p) \, \mathbb{E}[U(-1,1)] + p \, \mathbb{E}[U(-1/p,1/p)] \\
&= 0
\end{align*}
\item Variance:
\begin{align*}
Var[X] &= \mathbb{E}[X^2] - (\mathbb{E}[X])^2 \\
&= \mathbb{E}[X^2]\\
&= (1-p) \, \mathbb{E}[(U(-1,1))^2] + p \, \mathbb{E}[(U(-1/p,1/p))^2] \\
&= (1-p)\frac{(1-(-1))^2}{12} + p\frac{(\frac{1}{p} - (-\frac{1}{p}))^2}{12} \\
&= \frac{1-p}{3} + \frac{1}{3p} \\
&= \frac{1}{3}(1-p+\frac{1}{p})
\end{align*}
\item Upper bound $b$:

We have that :
\[
X \in [-1, 1] \cup \Big[-\frac{1}{p}, \frac{1}{p}\Big], \quad p \in (0, 0.5) \implies \frac{1}{p} > 2 > 1
\]

Thus, 
\[
|X| \le \frac{1}{p} \quad \Rightarrow \quad b = \frac{1}{p}
\]

\end{itemize}


Subtituting to Bernstein's inequality we have that:

\begin{align*}
&\Pr\Big[\bar{X} \ge \mu + \epsilon \Big] 
\le \exp\Bigg( \frac{-n\epsilon^2}{2V + \frac{2\epsilon b}{3}} \Bigg) \\[1mm]
&\Pr\Big[\bar{X} \ge \epsilon \Big] 
\le \exp\Bigg( \frac{-n\epsilon^2}{\frac{2}{3}\Big(1-p+\frac{1}{p}\Big) + \frac{2\epsilon}{3p}} \Bigg) \\[1mm]
&\textcolor{black}{\boxed{\Pr\Big[\bar{X} \ge \epsilon \Big] \le \exp\Big( \frac{-3 n \epsilon^2}{2(1-p+\frac{1+\epsilon}{p})} \Big)}} 
\end{align*}

